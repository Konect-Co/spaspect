<!--
TODO: Same fields for sign up and log in email/password
-->
<!HTML>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<meta name="description" content="Demo for spaspect visualization.">
		<meta name="author" content="Ravit Sharma, Santript Sharma">
		<title>SpaSpect Dashboard Demo</title>

    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
		<link rel="stylesheet" href="styles.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

		<link href="https://unpkg.com/video.js/dist/video-js.css" rel="stylesheet">
	  <script src="https://unpkg.com/video.js/dist/video.js"></script>
	  <script src="https://unpkg.com/videojs-contrib-hls/dist/videojs-contrib-hls.js"></script>
		<script src="drawPlots.js"></script>
	</head>
	<body>
    <nav id="nav-bar">
			<div id="nav-logo">
					<a href="https://sites.google.com/view/konect-co/home"><img id="logo" src="Pictures/Logo.png" alt="Konect"></a>
			</div>
			<div id="nav-buttons">
					<ul>
						<div id="universal-nav-buttons">
							<a class="fa nav-btn" href="https://forms.gle/2cawfpZZQ8oLonSz5">
								<b style="font-family:Arial;font-size:13px;text-align:center">Contact</b>
							</a>
						</div>
						<div id="dashboard-nav-buttons" style="display:none">
							<select class="nav-btn" id="dashboard-select" onchange="updateDashboard(true)"></select>
							<button class="nav-btn fa fa-refresh" type="button" onclick="initializeDashboard()">
								<b style="font-family:Arial;font-size:13px;text-align:center"> Refresh options</b>
							</button>
							<button class="nav-btn fa fa-sign-out" type="button" onclick="logout()">
								<b style="font-family:Arial;font-size:13px;text-align:center"> Log out</b>
							</button>
							<button class="nav-btn" id="add-site-btn" onclick="addSitePage()">Add site</button>
							<button class="nav-btn" id="dashboard-return-btn" onclick="dashboardPage()">Back to dashboard</button>
						</div>
					</ul>
			</div>
		</nav>
		<div class="login-signup-wrapper" id="login-div-wrapper">
    		<div id="login-div" class="main-div">
    			<h3 style="font-family:Arial;color:white;text-align:center;font-size:20px">Log In To The SpaSpect Dashboard</h3>
    			<p id="login-error-msg" class="error-msg">Template error msg</p>
    			<div class="input-container">
        			<i class="fa fa-envelope icon"></i>
        			<input type="email" placeholder="name@example.com" id="login_email_field" name="Email">
    			</div>
    			<div class="input-container">
        			<i class="fa fa-key icon"></i>
        			<input type="password" placeholder="Password" class="input-field" id="login_password_field" name="psw">
        		</div>
    			<input type="checkbox" id="align-checkbox" onclick="showpasswordmain()"><a style="color:white;font-family:Arial;font-size:14px" id="align-checkbox-text">Show Password</a>

        		<button style="border:2px solid #fff" onclick="login()">Sign into Account</button>
        		<button onclick="signupPage()">Sign up for an account</button>
            <button href="#" class="fa fa-google" onclick="loginGoogle()"><b style="font-family:Arial;font-size:13px;text-align:center"> Sign in with Google</b></button>
    		</div>
		</div>
		<div class="login-signup-wrapper" id="signup-div-wrapper">
    		<div id="signup-div" class="main-div">
    			<h3 style="font-family:Arial;color:white;text-align:center">Sign up with a Konect account</h3>
    			<div class="input-container">
        			<i class="fa fa-envelope icon"></i>
        			<input type="email" placeholder="name@example.com" id="signup_email_field" name="Email">
    			</div>
    			<div class="input-container">
        			<i class="fa fa-key icon"></i>
        			<input type="password" placeholder="New Password" class="input-field" id="signup_password_field" name="psw">
        		</div>
        		<input type="checkbox" id="align-checkbox" onclick="showpasswordsignup()"><a style="color:white;font-family:Arial;font-size:14px" id="align-checkbox-text">Show Password</a>

					<button class="fa fa-sign-in" onclick="signup()"><b style="font-family:Arial;font-size:13px;text-align:center"> Sign Up</b></button>
	    		<button onclick="loginPage()">Back to Login</button>
    		</div>
    	</div>
		<div id="dashboardPage">
			<div id="main-content">
				<div id="videoDiv">
					<!--<iframe width="100%" height="100%" src="https://www.myearthcam.com/bioshop?embed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>-->
					<video id="video" class="video-js vjs-default-skin" data-setup='{"fluid": true}' position="relative" controls>
					    <source id="video-src" type="application/x-mpegURL">
					</video>
				</div>
				<div id="mapDiv"style="height: 45%"></div>
				<div id="plotDiv"></div>
				<div id="statsDiv">
					<div id="stats-header">
						<h2>Statistics</h2>
					</div>
					<div id="stats">
						<h3>Total count: <span id="statsTotal"></span></h3>
						<h3>Undistanced count: <span id="statsUndistanced"></span></h3>
						<h3>Unmasked count: <span id="statsUnmasked"></span></h3>
					</div>
				</div>
			</div>
		</div>
		<div id="addSite">
			<form id="add-site-form" method="POST" action="/newSite">
				<h1>Add a site</h1>
				<p>Name: </p>
				<input type="text" placeholder="Name" name="name">
				<p>Stream link (m3u8)</p>
				<input type="url" name="stream-link">																																																																): </p><input type="url" name="Stream Link">
				<h2>Calibration Information</h2>
				<p>Calibration lat coordinates: </p>
				<input type="text" name="lat_vals">
				<p>Calibration long coordinates: </p>
				<input type="text" name="lon_vals">
				<p>Calibration lat/long origin: </p>
				<input type="text" name="lonlat_origin">
				<p>Calibration pixel x values: </p>
				<input type="text" name="pixelX_vals">
				<p>Calibration pixel y values: </p>
				<input type="text" name="pixelY_vals">
				<input type="text" id="user-token" name="user-token" hidden=true>
				<button type="button" onclick="submitAddSite()">Submit</button>
			</form>
		</div>
		<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-analytics.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
		<script>
			// Your web app's Firebase configuration
			var firebaseConfig = {
				apiKey: "AIzaSyD6Cm1InAFK-ecUq-F6ku8EQL_4oE_WTF0",
				authDomain: "spaspect-dashboard.firebaseapp.com",
				databaseURL: "https://spaspect-dashboard.firebaseio.com",
				projectId: "spaspect-dashboard",
				storageBucket: "spaspect-dashboard.appspot.com",
				messagingSenderId: "270336614615",
				appId: "1:270336614615:web:f4f64e4b5624fa8ca8d092",
				measurementId: "G-D03KWN0SXS"
			};
			// Initialize Firebase
			firebase.initializeApp(firebaseConfig);
			firebase.analytics();
		</script>
		<script src="index.js"></script>
	</body>
	<footer>
	</footer>
</html>
